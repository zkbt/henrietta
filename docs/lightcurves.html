

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Light Curve Basics &mdash; henrietta 0.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Statistical Cartoons" href="statistics.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> henrietta
          

          
          </a>

          
            
            
              <div class="version">
                0.5.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Light Curve Basics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Download-a-light-curve.">Download a light curve.</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Plot-your-light-curve.">Plot your light curve.</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Using-lightkurve-functions.">Using <code class="docutils literal"><span class="pre">lightkurve</span></code> functions.</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#lc.plot()"><code class="docutils literal"><span class="pre">lc.plot()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lc.scatter()"><code class="docutils literal"><span class="pre">lc.scatter()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lc.flatten()"><code class="docutils literal"><span class="pre">lc.flatten()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lc.fold()"><code class="docutils literal"><span class="pre">lc.fold()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lc.bin()"><code class="docutils literal"><span class="pre">lc.bin()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lc.remove_outliers()"><code class="docutils literal"><span class="pre">lc.remove_outliers()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lc.yourownfunction()"><code class="docutils literal"><span class="pre">lc.yourownfunction()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="statistics.html">Statistical Cartoons</a></li>
<li class="toctree-l1"><a class="reference internal" href="modeling.html">Modeling Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Function Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing and reporting issues</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">henrietta</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Light Curve Basics</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/lightcurves.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="Light-Curve-Basics">
<h1>Light Curve Basics<a class="headerlink" href="#Light-Curve-Basics" title="Permalink to this headline">Â¶</a></h1>
<p>The examples over at
<a class="reference external" href="http://lightkurve.keplerscience.org">lightkurve</a> are really useful
for understanding all the wonderful ways you can access <em>Kepler</em> data
via online archives. This very short example demonstrates a
quick-and-dirty tool that uses <code class="docutils literal"><span class="pre">lightkurve</span></code> to download the entire
<em>Kepler</em> light curve for a particular star.</p>
<div class="section" id="Download-a-light-curve.">
<h2>Download a light curve.<a class="headerlink" href="#Download-a-light-curve." title="Permalink to this headline">Â¶</a></h2>
<p>Our first step is to download some data. We&#8217;ll import our basic set of
tools, and then use them to download a Kepler light curve.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># let&#39;s import some common Python packages we like</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span><span class="o">,</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># let&#39;s also import our custom Python package for this class</span>
<span class="kn">import</span> <span class="nn">henrietta</span> <span class="k">as</span> <span class="nn">hsl</span>
</pre></div>
</div>
</div>
<p>This last command creates an object called <code class="docutils literal"><span class="pre">hsl</span></code> that contains a
useful function: <code class="docutils literal"><span class="pre">download_kepler_lc</span></code>. This function takes a star name
as input, and tries its best to return a <em>Kepler</em> light curve for it.
There are a few options you can feed it if you want, to know what those
are, remember that in <code class="docutils literal"><span class="pre">jupyter</span></code> you can type the name of a function,
and then hit <code class="docutils literal"><span class="pre">&lt;shift&gt;-&lt;tab&gt;</span></code> to see what it does (once for basic info,
twice for more). Give it a try!</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">hsl</span><span class="o">.</span><span class="n">download_kepler_lc</span>
</pre></div>
</div>
</div>
<p>Here, we use that function to download a light curve for Kepler-186.
Light curves from Kepler are split into ~90 day quarters; this function
makes a rough attempt at stitching all of those together.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">lc</span> <span class="o">=</span> <span class="n">hsl</span><span class="o">.</span><span class="n">download_kepler_lc</span><span class="p">(</span><span class="s1">&#39;Kepler-186&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Plot-your-light-curve.">
<h2>Plot your light curve.<a class="headerlink" href="#Plot-your-light-curve." title="Permalink to this headline">Â¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">lc</span></code> object we just created it is a <code class="docutils literal"><span class="pre">KeplerLightCurve</span></code> object
(see the documentation for <code class="docutils literal"><span class="pre">lightkurve</span></code>) if you want to know more
about what these objects can do). One snazzy feature of a light curve
object like this is that we can make a simple plot of the data, just by
running</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">lc</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>You&#8217;ll notice that the folks who wrote this tool put a bit of thought
into making sure the plot looks pretty good and the axes are labeled in
a relatively straightforward way.</p>
<p>However, we might want to play around with things a bit, so let&#8217;s dig
under the hood of our light curve, and pull out the actual data that&#8217;s
being plotted.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># this is the time, in something like Julian Date</span>
<span class="n">time_in_days</span> <span class="o">=</span> <span class="n">lc</span><span class="o">.</span><span class="n">time</span>

<span class="c1"># this is the relative flux of the star, normalized to the star&#39;s median brightness</span>
<span class="n">relative_flux</span> <span class="o">=</span> <span class="n">lc</span><span class="o">.</span><span class="n">flux</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">time_in_days</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Our light curve contains </span><span class="si">{}</span><span class="s2"> data points!&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">N</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p>With these arrays, you can start playing around with real Kepler data,
either for Kepler-186 or for any other star you choose!</p>
</div>
<div class="section" id="Using-lightkurve-functions.">
<h2>Using <code class="docutils literal"><span class="pre">lightkurve</span></code> functions.<a class="headerlink" href="#Using-lightkurve-functions." title="Permalink to this headline">Â¶</a></h2>
<p>You just saw the light curve <code class="docutils literal"><span class="pre">.plot()</span></code> function. Beyond just that one,
there are oodles of built-in functions that we can call directly from
that <code class="docutils literal"><span class="pre">lc</span></code> object. Some are listed below, with explanations from
ASTR3400 students! You can also check out the original <code class="docutils literal"><span class="pre">lightkurve</span></code>
documentation over
<a class="reference external" href="http://lightkurve.keplerscience.org/tutorials/1.03-what-are-lightcurves.html">here</a>.</p>
<div class="section" id="lc.plot()">
<h3><code class="docutils literal"><span class="pre">lc.plot()</span></code><a class="headerlink" href="#lc.plot()" title="Permalink to this headline">Â¶</a></h3>
<p>Chris says &#8220;<code class="docutils literal"><span class="pre">.plot()</span></code> plots the light curve with the normalised flux
on the y-axis and the time in days on the x-axis.&#8221;</p>
<p>Sebastian added that &#8220;it acts much like <code class="docutils literal"><span class="pre">matplotlib.pyplot.plot</span></code>
works, which we are all more than familiar with due to ASTR2600. Any
kwargs that you could pass into matplotlib.pylot.plot also work with
<code class="docutils literal"><span class="pre">.plot()</span></code>.&#8221;</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">lc</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;mediumseagreen&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/lightcurves_15_0.png" src="_images/lightcurves_15_0.png" />
</div>
</div>
</div>
<div class="section" id="lc.scatter()">
<h3><code class="docutils literal"><span class="pre">lc.scatter()</span></code><a class="headerlink" href="#lc.scatter()" title="Permalink to this headline">Â¶</a></h3>
<p>Zach says &#8220;<code class="docutils literal"><span class="pre">.scatter()</span></code> is almost the same as plot, but instead of
connecting each data point with a line, the data are plotted as discrete
points.&#8221;</p>
<p>Jon points out that it also takes keyword arguments to change the
plotting style, just like <code class="docutils literal"><span class="pre">matplotlib.pyplot.scatter</span></code>.</p>
<p>These keywords act slightly differently than the ones for <code class="docutils literal"><span class="pre">plot</span></code>.
Notably, with <code class="docutils literal"><span class="pre">scatter</span></code> the <code class="docutils literal"><span class="pre">c=</span></code> and <code class="docutils literal"><span class="pre">s=</span></code> keywords allow you to
set the color or size of different points with an array, as shown here.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">lc</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="n">lc</span><span class="o">.</span><span class="n">time</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;autumn&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/lightcurves_17_0.png" src="_images/lightcurves_17_0.png" />
</div>
</div>
</div>
<div class="section" id="lc.flatten()">
<h3><code class="docutils literal"><span class="pre">lc.flatten()</span></code><a class="headerlink" href="#lc.flatten()" title="Permalink to this headline">Â¶</a></h3>
<p>Diego says &#8220;The <code class="docutils literal"><span class="pre">.flatten()</span></code> function does exactly as one would
expect. Two graphs are shown for comparison. One is the regular one and
the other is flattened. This is helpful because flattening the graph can
get rid of the factors that influence the light curve that comes from
the star. Stars look brighter or dimmer depending on where its spots
are. This function makes it so the light curve does not reflect that
fact.&#8221;</p>
<p>Shae adds that <code class="docutils literal"><span class="pre">.flatten()</span></code> gets rid of wiggles in the light curve
&#8220;using a SavitzkyâGolay filter (a smoothing technique)&#8221;.</p>
<p>Chris noticed that for his transits, &#8220;there seems to be a &#8216;lead up&#8217; to
the transit coming from both sides like the
<a class="reference external" href="https://en.wikipedia.org/wiki/Caldera">caldera</a> of a volcano.&#8221; This
can be caused by the <code class="docutils literal"><span class="pre">.flatten()</span></code> function, because it tries to smooth
out everything as best it can and doesn&#8217;t know where your transits are,
it can sometimes overcorrect near transits.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># scatter a light curve</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">lc</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;original&#39;</span><span class="p">)</span>

<span class="c1"># flatten and scatter a light curve</span>
<span class="n">lc</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;flattened&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/lightcurves_19_0.png" src="_images/lightcurves_19_0.png" />
</div>
</div>
</div>
<div class="section" id="lc.fold()">
<h3><code class="docutils literal"><span class="pre">lc.fold()</span></code><a class="headerlink" href="#lc.fold()" title="Permalink to this headline">Â¶</a></h3>
<p>Shae says &#8220;<code class="docutils literal"><span class="pre">.fold()</span></code> takes the data and folds it on itself, depending
on the specified period given. The y-axis remains as the normalized
flux, whereas the x-axis is the phase which represents the time within a
single period.&#8221;</p>
<p>Diego adds &#8220;The <code class="docutils literal"><span class="pre">.fold()</span></code> function takes all the data points and
shifts them all over to a certain time period. It is &#8216;folding&#8217; in the
sense that the data is all piled into one &#8216;area&#8217;. This helps to show its
transit around its host star.&#8221;</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># parameters for Kepler-186b</span>
<span class="n">period</span> <span class="o">=</span> <span class="mf">3.8867907</span>
<span class="n">t0</span> <span class="o">=</span> <span class="mf">2454966.3304</span>
<span class="n">t0_in_bkjd</span> <span class="o">=</span> <span class="n">t0</span> <span class="o">-</span> <span class="mi">2454833</span>

<span class="c1"># flatten, fold, and scatter a light curve</span>
<span class="n">lc</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span><span class="o">.</span><span class="n">fold</span><span class="p">(</span><span class="n">period</span><span class="o">=</span><span class="n">period</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="n">t0_in_bkjd</span><span class="o">/</span><span class="n">period</span><span class="p">)</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/lightcurves_21_0.png" src="_images/lightcurves_21_0.png" />
</div>
</div>
</div>
<div class="section" id="lc.bin()">
<h3><code class="docutils literal"><span class="pre">lc.bin()</span></code><a class="headerlink" href="#lc.bin()" title="Permalink to this headline">Â¶</a></h3>
<p>Zach says &#8220;The function <code class="docutils literal"><span class="pre">.bin(binsize=int)</span></code> takes a given number of
data points and averages them together, returning a new lightcurve with
fewer data points. It can be applied to a curve that has already been
processed by other functions like <code class="docutils literal"><span class="pre">.fold()</span></code>.</p>
<p>Dana explains how it works &#8220;If you want a bin size of 50, this takes the
first 50 flux measurements and averages them to give one data point, the
second point is the second 50, and so on until the function reaches the
end of the data.&#8221;</p>
<p>Sebastian adds &#8220;The process of binning leads to less noise in the data,
allowing us to focus much more intensely on the actual patterns in the
data that we care about.&#8221;</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">folded</span> <span class="o">=</span> <span class="n">lc</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span><span class="o">.</span><span class="n">fold</span><span class="p">(</span><span class="n">period</span><span class="o">=</span><span class="n">period</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="n">t0_in_bkjd</span><span class="o">/</span><span class="n">period</span><span class="p">)</span>

<span class="c1"># flatten, fold, and scatter a light curve</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">folded</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;unbinned&#39;</span><span class="p">)</span>

<span class="c1"># flatten, fold, bin, and scatter a light curve</span>
<span class="n">folded</span><span class="o">.</span><span class="n">bin</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;binned&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/lightcurves_23_0.png" src="_images/lightcurves_23_0.png" />
</div>
</div>
</div>
<div class="section" id="lc.remove_outliers()">
<h3><code class="docutils literal"><span class="pre">lc.remove_outliers()</span></code><a class="headerlink" href="#lc.remove_outliers()" title="Permalink to this headline">Â¶</a></h3>
<p>Tyler says &#8220;<code class="docutils literal"><span class="pre">.remove_outliers(sigma=5.0)</span></code> removes the outliers from
the data set based on how many standard deviations the value is from the
trend. If done incorrectly it can remove transit data.&#8221; Setting
<code class="docutils literal"><span class="pre">sigma</span></code> to a larger value means that an outlier must be more extreme
to be removed.</p>
<p>Dana provides a nice example: &#8220;Say you have a list of numbers
(3,5,7,2,45,7,9), and you use this function on that set of numbers, it
would remove that 45 because it is an outlier and not close to the other
numbers.&#8221;</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># make a flattened light curve</span>
<span class="n">flattened</span> <span class="o">=</span> <span class="n">lc</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

<span class="c1"># scatter the original flattened light curve</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">flattened</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;original&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>

<span class="c1"># scatter the flattened light curve after removing outliers</span>
<span class="n">flattened</span><span class="o">.</span><span class="n">remove_outliers</span><span class="p">()</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;outliers removed&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/lightcurves_25_0.png" src="_images/lightcurves_25_0.png" />
</div>
</div>
</div>
<div class="section" id="lc.yourownfunction()">
<h3><code class="docutils literal"><span class="pre">lc.yourownfunction()</span></code><a class="headerlink" href="#lc.yourownfunction()" title="Permalink to this headline">Â¶</a></h3>
<p>Imagine about what other functions you might like to apply to a light
curve. We could write our own <code class="docutils literal"><span class="pre">lightkurve</span></code> functions. What would they
do? If you have an idea, share it with the class!</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="statistics.html" class="btn btn-neutral float-right" title="Statistical Cartoons" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Zach Berta-Thompson and students at CU Boulder.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>